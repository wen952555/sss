body {
    font-family: Arial, sans-serif;
    background-color: #006400; 
    color: #fff; 
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100vw; 
    height: 100vh; 
    overflow: hidden; 
}

.game-table {
    width: 98vw; 
    height: 98vh; 
    max-width: calc(98vh * (16 / 9)); 
    max-height: calc(98vw * (9 / 16)); 
    background-color: #004d00; 
    border: clamp(3px, 0.5vmin, 8px) solid #8B4513; 
    border-radius: clamp(5px, 1vmin, 15px); 
    box-shadow: 0 0 clamp(10px, 2vmin, 30px) rgba(0,0,0,0.5); 
    display: flex;
    flex-direction: column; 
    padding: clamp(5px, 1vmin, 15px); 
    box-sizing: border-box;
}

.lane {
    width: 100%;
    display: flex; 
    align-items: stretch; 
    padding: clamp(3px, 0.5vh, 8px) 0; 
    box-sizing: border-box;
    border-bottom: 1px dashed #666; 
    overflow: hidden; 
    flex-grow: 1; /* 让每条 lane 尝试平均分配 game-table 的高度 */
    flex-basis: 0; /* 与 flex-grow:1 一起使用以平均分配 */
}
.lane:last-child { 
    border-bottom: none; 
    flex-grow: 0.8; /* 按钮区可以稍微小一点 */
    flex-shrink: 0; /* 按钮区不压缩 */
}
.placement-lane { 
    /* flex-grow: 2.5;  由 lane 的 flex-grow 控制 */
}
.hand-lane { 
    /* flex-grow: 3; */
    display: flex; 
    justify-content: center;
    align-items: stretch; 
    background-color: rgba(0,0,0,0.1); 
    border-radius: clamp(3px, 0.5vmin, 8px);
    margin: clamp(3px, 0.5vh, 8px) 0;
    padding: clamp(3px, 0.5vh, 5px); 
}

.controls-lane {
    /* flex-grow: 1.5; */
    flex-shrink: 0; 
    min-height: clamp(70px, 10vh, 90px);
    flex-direction: column; 
    align-items: center;
    justify-content: center; 
    padding: clamp(5px, 0.5vh, 8px) 0;
}

.hand-group { 
    width: 100%; 
    display: flex; 
    align-items: stretch; 
    flex-grow: 1; 
    box-sizing: border-box;
    padding: 0 clamp(5px, 0.5vw, 8px); 
}

.drop-zone, .hand-area { 
    position: relative; 
    display: flex;
    flex-wrap: wrap; 
    justify-content: center; 
    align-items: center; 
    width: 100%; 
    max-width: none; 
    padding: clamp(8px, 1.2vmin, 12px); /* 统一的上下左右padding */
    padding-top: clamp(28px, 4.5vmin, 40px); /* 调整顶部padding为标签 */
    border: clamp(1px, 0.2vmin, 2px) dashed #aaa; /* 虚线可以细一点 */
    border-radius: clamp(5px, 0.8vmin, 10px);
    background-color: rgba(0,0,0,0.15); 
    box-sizing: border-box;
    overflow-y: auto; 
    flex-grow: 1; 
}

#playerHandOrMiddleDeck:not(.middle-deck-active) {
    padding-top: clamp(28px, 4.5vmin, 40px); 
}
#playerHandOrMiddleDeck.middle-deck-active { 
    padding-top: clamp(28px, 4.5vmin, 40px); 
}

.deck-label {
    position: absolute;
    top: clamp(3px, 0.6vmin, 6px); /* 标签更贴近顶部 */
    left: 50%;
    transform: translateX(-50%); 
    font-size: clamp(0.8em, 1.6vmin, 1.3em); /* 标签字体再小一点 */
    color: #FFD700; 
    opacity: 0.5; /* 透明度调整 */
    margin: 0;
    padding: 2px 5px; 
    pointer-events: none; 
    white-space: nowrap; 
    z-index: 1; 
    text-shadow: 1px 1px 1px rgba(0,0,0,0.4); 
}
#playerHandOrMiddleDeck > h2.deck-label { /* 手牌区标题 */
    font-size: clamp(0.85em, 1.7vmin, 1.4em); 
    opacity: 0.55;
}
.middle-deck-active > #middleDeckLabel.deck-label { /* 中墩激活时的标签 */
    opacity: 0.75; 
    color: #FFFFA0; 
}

.card {
    max-height: calc(100% - clamp(6px, 1.2vmin, 10px)); /* 卡牌最大高度为其父容器高度减去一点垂直padding */
    width: auto; 
    aspect-ratio: 691 / 1000; /* !!! 请根据你的SVG实际宽高比修改此值 !!! (例如扑克牌标准尺寸约为 63mm x 88mm -> 63/88) */
    object-fit: contain; 
    margin: clamp(1px, 0.2vmin, 3px); 
    border: 1px solid #777; /* 边框颜色 */
    border-radius: clamp(2px, 0.3vmin, 4px);
    background-color: white;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    cursor: grab;
    user-select: none;
    -webkit-user-drag: element;
    transition: transform 0.1s; 
    z-index: 10; 
    flex-shrink: 0; 
}

.card.dragging {
    opacity: 0.6; 
    transform: scale(1.1) rotate(3deg); 
    z-index: 100; 
}
.drop-zone.over, .hand-area.over:not(.middle-deck-active) { 
    border-color: #FFD700; 
    background-color: rgba(255, 215, 0, 0.2); 
}
button {
    background-color: #8B4513; color: white; border: 1px solid #cd853f; 
    padding: clamp(8px, 1.2vh, 15px) clamp(15px, 2vw, 25px); 
    border-radius: clamp(3px, 0.5vmin, 8px); cursor: pointer;
    font-size: clamp(0.9em, 2vmin, 1.5em); margin: clamp(5px, 0.8vh, 10px) 5px;
    min-width: clamp(100px, 15vw, 150px); 
}
button:hover { background-color: #A0522D; }
button:disabled { background-color: #777; cursor: not-allowed; }
#messageArea {
    margin-top: clamp(5px, 1vh, 12px); padding: clamp(5px, 0.8vh, 10px);
    border-radius: clamp(3px, 0.5vmin, 6px); text-align: center;
    min-height: clamp(18px, 2.5vh, 30px); width: 80%;
    max-width: clamp(250px, 50vw, 450px); font-size: clamp(0.8em, 1.8vmin, 1.2em);
}
#messageArea.success { background-color: #2E8B57; color: #fff; border: 1px solid #3CB371; }
#messageArea.error { background-color: #B22222; color: #fff; border: 1px solid #DC143C; }
