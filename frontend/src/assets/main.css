/* frontend/src/assets/main.css */
html, body {
  height: 100%; margin: 0; 
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background-color: #006400; /* 深绿色 */
  color: #e8f5e9; 
  overflow: hidden; -webkit-tap-highlight-color: transparent;
}

#app, #app-container.app-flex-container { /* 确保匹配 App.vue 的根元素 */
  min-height: 100vh; height: 100%; display: flex; flex-direction: column;
  padding: 5px; box-sizing: border-box; overflow: hidden;
  background-color: transparent;
}

/* --- 卡片样式 --- */
.card, .hand-card-item {
  width: 50px;  /* 手机端固定宽度 */
  height: 70px; /* 手机端固定高度 */
  border: none; 
  outline: none;
  box-sizing: border-box; 
  border-radius: 3px; /* 手机端小圆角 */
  background-color: #FFFFFF; 
  color: #212121;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: grab;
  user-select: none;
  box-shadow: 0px 1px 1px rgba(0,0,0,0.2); /* 细微阴影 */
  transition: transform 0.15s ease-out, margin-left 0.2s ease-out, z-index 0.05s linear;
  overflow: hidden;
  padding: 0; 
  flex-shrink: 0; 
  position: relative; 
  margin: 0; /* 移除所有外边距，完全靠负margin控制 */
}
.card img, .hand-card-item img {
  display: block; width: 100%; height: 100%;
  object-fit: contain; pointer-events: none;
  border-radius: 2px; 
}
/* .card.dragging, .hand-card-item.dragging - 保持不变 */

/* --- 卡片容器 --- */
.card-container {
  display: flex; 
  flex-direction: row;   /* 强制水平排列 */
  flex-wrap: nowrap;    /* 强制不换行 */
  gap: 0;               /* 移除gap */
  height: calc(70px + 8px); /* 固定高度为约一张牌高+上下padding */
  min-height: calc(70px + 8px);
  border: 1px dashed rgba(255, 255, 255, 0.15); /* 边框更淡 */
  padding: 4px 2px; /* 容器的左右padding */
  border-radius: 4px;
  position: relative; 
  align-items: center; 
  justify-content: flex-start; /* 所有牌从左开始排列 */
  background-color: rgba(0, 0, 0, 0.08); 
  margin-bottom: 6px; 
  width: 100%; 
  box-sizing: border-box;
  overflow: hidden; /* 彻底隐藏所有溢出 */
}
.card-container.is-empty { background-color: rgba(0, 0, 0, 0.1); display: flex; align-items: center; justify-content: center; }
.drag-over { border-color: #a5d6a7; border-style: solid; background-color: rgba(129, 199, 132, 0.3); }
.drop-placeholder { color: #a7ffeb; font-style: italic; text-align: center; width: 100%; font-size: 0.85em; padding: 10px 0; }


/* 卡片重叠逻辑 - 直接应用，不再区分桌面和手机的复杂媒体查询 */
.card-container .hand-card-item {
  /* 卡片宽度50px。目标露出约 8px (以在极窄屏幕也能放下13张牌) */
  /* 负 margin = -(卡片宽度 - 期望露出的宽度) = -(50 - 8) = -42px */
  /* 13张牌总视觉宽度 = 50px (第一张) + 12张 * 8px/张 = 50 + 96 = 146px */
  /* 这个宽度应该能适应非常窄的屏幕 */
  margin-left: -42px; 
}
.card-container .hand-card-item:first-child {
  margin-left: 0;
}
/* 简单的悬停效果，让牌稍微突出 */
.card-container .hand-card-item:hover {
  transform: translateY(-8px) scale(1.05); 
  z-index: 100;
}

/* 顶部信息栏样式 (针对手机简化) */
.top-info-bar { 
  background-color: rgba(0, 0, 0, 0.35); color: #c8e6c9; padding: 4px 5px; 
  border-radius: 4px; margin-bottom: 6px; display: flex; flex-direction: column; 
  align-items: stretch; font-size: 0.75em; flex-shrink: 0; gap: 4px; 
}
.game-status-mode { width: 100%; text-align: center; margin-bottom: 3px; order: 1;}
.player-statuses-inline { width: 100%; justify-content: center; display: flex; gap: 5px; font-size: 0.85em; margin: 0 0 3px 0; order: 2;}
.player-status-item { display: flex; align-items: center; gap: 4px; white-space: nowrap; }
.player-status-item strong { color: #fffde7; }
.restart-button-inline { 
  width: 100%; text-align: center; margin-left: 0; order: 3; 
  padding: 6px 10px; font-size: 0.85em;
  background-color: #004d40; border: 1px solid #00796b; color: #b2dfdb;
}
.restart-button-inline:hover { background-color: #00695c; }


/* 其他全局样式 (按钮, App布局, GameBoard布局等)，尽量简化 */
.global-error { margin-bottom: 10px; flex-shrink: 0; }
.game-area { background-color: transparent; border-radius: 6px; display: flex; flex-direction: column; overflow: hidden; flex-grow: 1; border: none; }
.app-flex-grow { flex-grow: 1; display: flex; flex-direction: column; min-height: 0; overflow: hidden; }
.game-board-main-area { margin-top: 0; flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; }
.idle-message, .dealing-message, .message-area { text-align: center; padding: 20px; font-size: 1.1em; color: #80cbc4;
    flex-grow: 1; display: flex; align-items: center; justify-content: center; }
.error { background-color: #d32f2f; color: #ffcdd2; padding: 10px; border-radius: 4px; margin-bottom: 10px; border: 1px solid #c62828; }
.game-board-container { padding: 5px 2px; display: flex; flex-direction: column; flex-grow: 1; overflow: hidden; }
.player-area { margin-bottom: 8px; display: flex; flex-direction: column; flex-grow: 1;
  overflow-y: hidden; /* 确保理牌区不垂直滚动 */ padding: 5px 2px; -webkit-overflow-scrolling: touch; gap: 8px; }
.dun-area, .initial-hand-area { margin-bottom: 0; }
.initial-hand-area > .card-container { /* 手牌区特定高度，确保与其它墩一致 */
  height: calc(70px + 8px); min-height: calc(70px + 8px);
}
.segments { display: flex; flex-direction: column; gap: 8px; }
.submit-hand-button { margin: 12px auto; padding: 10px 20px; font-size: 1em; width: auto;
  min-width: 160px; max-width: 90%; flex-shrink: 0; }
/* ... (showdown area styles - 保持之前的) ... */
