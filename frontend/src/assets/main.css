/* frontend/src/assets/main.css */
/* ... (html, body, #app, general card, button, input, layout styles remain largely the same as the last working version) ... */
/* I will only list the critical changes for fan layout and mobile card size */

/* --- 卡片样式 --- */
.card {
  width: 100px !important;  /* 桌面端基础宽度 */
  height: 140px !important; /* 桌面端基础高度 */
  border: none !important; 
  outline: none !important;
  box-sizing: border-box !important; 
  border-radius: 6px !important;
  background-color: #FFFFFF !important; 
  color: #212121 !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  cursor: grab !important;
  user-select: none !important;
  box-shadow: none !important; 
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important; /* Smoother transition for fan hover */
  overflow: hidden !important;
  padding: 0 !important; 
  margin: 0 !important; /* Remove margin, positioning handled by JS/absolute for fan */
  /* position: relative; */ /* This will be overridden by absolute in fan layout */
}
.card img {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important; 
  pointer-events: none !important;
  border-radius: 5px !important; 
}
/* .card.dragging - no change needed here from last working version */

/* --- 卡片容器 --- */
.card-container {
  display: flex !important; 
  gap: 5px !important; 
  min-height: calc(140px + 12px) !important;
  border: 1px dashed rgba(255, 255, 255, 0.2) !important; 
  padding: 6px !important; 
  border-radius: 5px !important;
  position: relative !important; 
  align-items: center !important; /* Default alignment for flat layout */
  justify-content: center !important; /* Default alignment for flat layout */
  background-color: rgba(0, 0, 0, 0.1) !important; 
  margin-bottom: 8px !important; 
  width: 100% !important; 
  box-sizing: border-box !important;
  overflow: hidden; /* Default to hidden, fan layout might make it visible */
}
/* ... (.card-container.is-empty, .drag-over, .drop-placeholder no change from last working version) ... */

/* --- 扇形布局特定样式 --- */
.card-container.fan-layout {
  display: block !important; /* Override flex for absolute positioning of children */
  /* justify-content: center;  No longer needed due to block and absolute children */
  /* align-items: flex-end; */
  padding-bottom: 10px !important; /* Space for the fan base */
  min-height: 100px !important; /* Adjust based on card size and arc */
  position: relative; /* Crucial for absolute positioning of cards */
  overflow: hidden; /* Clip cards that go too far out if not desired */
}
.fan-layout .card {
  position: absolute !important; /* Cards are absolutely positioned within .fan-layout */
  bottom: 0px !important; /* Align to the bottom of the container */
  left: 50% !important; /* Start from the horizontal center */
  transform-origin: bottom center !important; /* Rotate around bottom center */
  /* transform: translateX(-50%); */ /* Initial offset to truly center, JS will add more translateX */
  box-shadow: 0px -1px 3px rgba(0,0,0,0.1) !important; /* Subtle shadow for fanned cards */
}
.fan-layout .card:hover {
    /* transform a bit more, ensure translateY is relative to its fanned position */
    /* The JS calculated transform will be the base */
    /* This hover effect might need to be applied via JS if transforms conflict heavily */
    /* For now, let's assume JS sets the base fan transform, and CSS hover adds to it */
    /* This is tricky: CSS transform on hover will override JS style.transform */
    /* Best to handle hover transforms in JS for fanned layout if complex */
    /* z-index: 150 !important; */ /* Ensure hovered card is on top */
}


/* 媒体查询，针对手机等小屏幕 */
@media (max-width: 600px) { /* Breakpoint for fan layout */
  .card {
    /* Mobile card size for fan - should match PlayerHand.vue FAN_CARD_WIDTH_MOBILE */
    width: 55px !important; 
    height: 77px !important; /* Approx 2.5:3.5 */
    border-radius: 4px !important;
  }
  .card-container { /* General card container on mobile */
    min-height: calc(77px + 10px) !important;
    gap: 3px !important;
    padding: 5px !important;
  }
  .initial-hand-area .card-container.fan-layout { /* Specifically the hand area when fanned */
     min-height: 110px !important; /* Needs enough height for the fan arc */
  }
  .initial-hand-area .card-container { /* For flat layout on mobile if breakpoint changes */
     min-height: calc(77px * 2 + 3px + 10px) !important; 
  }
  /* Other mobile adjustments for top-info-bar, buttons etc. from previous version */
  .top-info-bar { font-size: 0.8em !important; padding: 5px !important; gap: 4px !important; flex-direction: column; align-items: stretch; }
  .game-status-mode { width: 100%; text-align: center; margin-bottom: 3px; order: 1;}
  .player-statuses-inline { width: 100%; justify-content: space-around; gap: 5px !important; font-size: 0.85em !important; margin: 0 0 3px 0; order: 2;}
  .restart-button-inline { width: 100%; text-align: center; margin-left: 0; order: 3; padding: 6px 10px !important; font-size: 0.85em !important;}
}

@media (max-width: 380px) {
    .card {
        width: 48px !important;
        height: 67px !important;
    }
    .card-container.fan-layout { min-height: 100px !important; }
    .card-container { min-height: calc(67px + 8px) !important; }
    .initial-hand-area .card-container { min-height: calc(67px * 2 + 2px + 8px) !important; }
}

/* Ensure all other styles from the previous complete main.css are present and have !important */
/* ... */
