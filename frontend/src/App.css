/* frontend/src/App.css */

/* --- 全局与基础布局 (保持不变) --- */
/* ... */

/* --- 顶部玩家状态横幅 (保持不变) --- */
/* ... */

/* --- 游戏板与牌道区域 (保持不变) --- */
/* ... */
.card { /* 主游戏区的卡牌样式 */
  width: 55px; height: 77px; /* ... */
}
/* ... */

/* --- 控制按钮区域 (保持不变) --- */
/* ... */


/* --- 比牌视图容器 (全屏自适应) --- */
.comparison-view-container { 
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
  background-color: #073b4c; 
  display: flex; align-items: center; justify-content: center; 
  padding: 10px; /* 给模态框一些外边距 */
  z-index: 1000; 
  overflow: hidden; /* 整个视图不滚动 */
}
.comparison-modal-content { 
  background-color: rgba(0, 0, 0, 0.55); /* 加深背景 */
  padding: 15px; /* 调整内边距 */
  border-radius: 12px; 
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6); 
  position: relative; 
  width: 100%; 
  height: 100%; /* 让内容区也占满 */
  max-width: 96vw; /* 更接近屏幕边缘 */
  max-height: 96vh;
  display: flex; 
  flex-direction: column; 
  gap: 10px; /* 减小标题、grid、按钮之间的间距 */
  overflow: hidden; /* 内容区不滚动，由grid内部控制 */
}
.comparison-modal-content h2 { font-size: 1.2em; margin-bottom: 10px; text-align:center; color:#ffd166; margin-top:0; }
.modal-close-button.top-right-close { /* ... */ }

/* 关键：比牌界面的田字格布局 */
.comparison-grid { 
  display: grid; 
  grid-template-columns: 1fr 1fr; /* 两列，均分宽度 */
  grid-template-rows: 1fr 1fr;    /* 两行，均分高度 */
  gap: 10px; /* 格子之间的间距 */
  width: 100%;
  flex-grow: 1; /* 占据所有可用垂直空间 */
  overflow: hidden; /* 防止grid本身出现滚动条 */
}
.comparison-cell { 
  background-color: rgba(0,0,0,0.25); 
  padding: 8px; /* 单元格内边距 */
  border-radius: 6px; 
  border: 1px solid rgba(255, 255, 255, 0.1); 
  display: flex;
  flex-direction: column; /* 单元格内部垂直排列：标题、三道牌、打枪信息 */
  overflow: hidden; /* 防止单元格内容溢出产生滚动 */
}
.comparison-cell.empty { display: flex; align-items: center; justify-content: center; color: #555; font-style: italic; background-color: rgba(0,0,0,0.15); }
.human-player-cell { border-color: #ffd166; }
.comparison-cell h4 { 
  font-size: 0.9em; 
  margin-bottom: 6px; 
  padding-bottom: 4px; 
  text-align: center;
  width:100%; 
  color:#e0e0e0; 
  border-bottom: 1px solid rgba(255,255,255,0.1); 
  flex-shrink: 0; /* 标题不收缩 */
}
.score-summary { font-size: 0.85em; color: #b0bec5; display: block; margin-top:2px;} /* 分数换行显示 */

.comparison-hand-verticals { /* 包裹三道牌的容器 */
  display: flex;
  flex-direction: column; /* 三道牌垂直排列 */
  justify-content: space-around; /* 均匀分布三道牌的垂直空间 */
  align-items: center; /* 每道牌水平居中 */
  width: 100%;
  flex-grow: 1; /* 占据单元格剩余垂直空间 */
  overflow: hidden; /* 防止这个容器滚动 */
  gap: 4px; /* 道与道之间的间距 */
}

.comparison-hand-row { 
  display: flex; 
  align-items: center; 
  width: 100%; 
  gap: 5px; 
  justify-content: flex-start; /* 文字和卡牌都靠左 */
}
.comparison-hand-row strong { 
  font-size: 0.8em; 
  white-space: nowrap;
  width: 2.5em; /* "头道:" 等文字宽度 */
  text-align: right;
  opacity: 0.85;
  color: #a0aec0; /* 调整颜色 */
  flex-shrink: 0; /* 文字不收缩 */
}

.mini-cards { /* 包裹同一道多张牌的容器 */
  display: flex;
  gap: 3px; /* 卡牌之间的非常小的间隙 */
  flex-wrap: nowrap; /* 确保牌在一行 */
  justify-content: flex-start; /* 卡牌靠左对齐 */
  align-items: center;
  width: 100%; /* 尝试让卡牌容器占满剩余空间 */
  height: 100%; /* 高度由父容器 .comparison-hand-verticals 分配 */
  /* min-height 由卡牌高度决定 */
}

/* 比牌界面中的静态卡牌 - 关键自适应部分 */
.comparison-cell .static-card {
  height: 90%; /* 卡牌高度占其父容器(.mini-cards 或 .comparison-hand-row 如果直接放)的百分比 */
  aspect-ratio: 7/10; /* 保持扑克牌长宽比 */
  width: auto; /* 宽度自动计算 */
  max-height: 50px; /* 给一个最大高度，防止过大，根据单元格大小调整 */
  min-height: 30px; /* 最小高度 */
  border-radius: 2px;
  background: white !important; /* 确保有白色背景板 */
  border: 1px solid #555 !important; /* 加一个细边框，使其可见 */
  box-shadow: 1px 1px 2px rgba(0,0,0,0.3) !important; /* 加回一点阴影 */
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0; /* 防止在空间不足时被压缩 */
}
.comparison-cell .static-card img {
  width: 100%;
  height: 100%;
  border-radius: inherit; 
  display: block;
  object-fit: contain; 
}
.comparison-cell .static-card:hover {
  transform: scale(1.15) translateY(-3px); /* 悬浮效果 */
  z-index: 10;
}

.shoot-info { font-size: 0.85em; margin: auto 0 0 3em; /* 推到底部并与牌道标题对齐 */ text-align: left; padding-top: 5px;}
.modal-actions { display: flex; justify-content: center; margin-top: 10px; padding-top:10px; border-top: 1px solid rgba(255,255,255,0.1); flex-shrink: 0; /* 按钮区不收缩 */ }
.continue-game-button { font-size: 0.9em; padding: 7px 20px; }


/* --- 响应式调整 --- */
@media (max-width: 768px) {
  /* ... (主游戏区的响应式调整保持不变) ... */
  .comparison-modal-content { max-width: 98vw; max-height: 98vh; padding: 10px; gap: 8px; }
  .comparison-grid { grid-template-columns: 1fr; grid-template-rows: repeat(4, auto); gap: 8px; height: calc(100% - 40px - 30px); /* 减去标题和按钮 */ }
  .comparison-cell { padding: 8px; min-height: 150px; }
  .comparison-cell h4 { font-size: 0.85em; }
  .comparison-cell .static-card { max-height: 45px; /* 进一步限制最大高度 */ }
}
@media (max-width: 480px) {
  /* ... (主游戏区的响应式调整保持不变) ... */
  .comparison-cell .static-card { max-height: 38px; }
}
