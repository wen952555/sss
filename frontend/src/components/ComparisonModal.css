/* frontend_react/src/components/ComparisonModal.css */
.comparison-modal-overlay-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 5px;
  box-sizing: border-box;
}

.comparison-modal-content-fullscreen {
  background-color: #f0f2f5;
  width: 100%;
  height: 100%;
  max-width: 1200px;
  max-height: 98vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  box-sizing: border-box;
  border-radius: 6px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  overflow: hidden;
}

.comparison-modal-title {
  text-align: center;
  color: #333;
  font-size: 1.5em;
  padding: 12px 0;
  margin: 0;
  background-color: #ffffff;
  border-bottom: 1px solid #d9d9d9;
  flex-shrink: 0;
}

/* Main 2x2 grid for player cells */
.players-grid-2x2-v3 {
  display: grid;
  /* Default to 1 column for narrow screens (players stack vertically) */
  grid-template-columns: 1fr;
  gap: 10px; /* Gap between player cells */
  padding: 10px;
  flex-grow: 1;
  overflow-y: auto; /* Scroll if content overflows */
  align-content: start; /* Align grid items to the start */
}

.player-result-cell-v3 {
  background-color: #ffffff;
  border: 1px solid #d9d9d9;
  border-radius: 5px;
  padding: 12px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
  display: flex;
  flex-direction: column;
  gap: 8px; /* Gap between name/score and duns area */
}
.player-result-cell-v3.empty-player-cell-v3 {
  background-color: transparent;
  border: 1px dashed #e0e0e0;
  box-shadow: none;
  min-height: 150px; /* Give some visual space to empty cells */
}
.player-result-cell-v3.error-cell-v3 { /* Styles for error display */ }

.player-name-modal-v3 {
  margin-top: 0;
  margin-bottom: 4px;
  font-size: 1.15em;
  font-weight: 600;
  color: #1a1a1a;
  text-align: center;
}

.player-total-score-modal-v3 {
  font-size: 0.95em;
  font-weight: bold;
  color: #007bff;
  text-align: center;
  margin-bottom: 12px;
}

.all-duns-container-v3 { /* Container for all three duns of a player */
  display: flex;
  flex-direction: column;
  gap: 10px; /* Space between duns */
}

/* Layout for a single dun: cards on left, text info on right */
.single-dun-layout-v3 {
  display: flex; /* Key: cards and text info side-by-side */
  align-items: flex-start; /* Align to top */
  padding: 6px 0; /* Padding for each dun row, no background needed here */
  border-bottom: 1px solid #f0f0f0; /* Light separator between duns */
}
.single-dun-layout-v3:last-child {
  border-bottom: none;
}

.dun-cards-stacked-v3 { /* Container for stacked cards on the left */
  display: flex;
  position: relative;
  min-height: 70px; /* Adjust based on stacked card height */
  align-items: flex-start;
  flex-shrink: 0; /* Prevent card area from shrinking too much */
  /* Add some right margin to create space for dun-text-info if it's not taking full width */
  margin-right: 10px; 
}

.dun-cards-stacked-v3 .card {
  width: 50px;
  height: 72px;
  border: 1px solid #aaa;
  box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
  background-color: white;
  position: absolute;
  top: 0px; 
  left: 0px;
}
/* Stacking logic for narrow screens */
.dun-cards-stacked-v3 .card:nth-child(1) { left: 0px;   z-index: 1; }
.dun-cards-stacked-v3 .card:nth-child(2) { left: 15px;  /* top: 2px; */ z-index: 2; }
.dun-cards-stacked-v3 .card:nth-child(3) { left: 30px;  /* top: 4px; */ z-index: 3; }
.dun-cards-stacked-v3 .card:nth-child(4) { left: 45px;  /* top: 6px; */ z-index: 4; }
.dun-cards-stacked-v3 .card:nth-child(5) { left: 60px;  /* top: 8px; */ z-index: 5; }


.dun-text-info-v3 { /* Text on the right: "头道: 乌龙" */
  display: flex;
  flex-direction: column; /* Stack "头道:" and "乌龙" vertically */
  justify-content: center; /* Vertically center if dun height allows */
  text-align: left; /* Align text to the left */
  flex-grow: 1; /* Allow it to take remaining space */
  padding-left: 5px; /* Small padding from the cards */
}

.dun-title-v3 { /* For "头道:" */
  font-size: 0.9em;
  font-weight: 500;
  color: #495057;
  margin-bottom: 2px; /* Space between title and type */
}
.dun-type-v3 { /* For "乌龙" */
  font-size: 0.95em; /* Make type slightly larger or bolder */
  color: #17a2b8; /* Example color */
  font-weight: bold;
}


.comparison-modal-footer { /* Styles for footer */ }
.continue-game-button { /* Styles for button */ }

/* --- Responsive: Media Queries --- */
/* For wider screens (e.g., > 768px) - 2x2 grid for players, cards become flat */
@media (min-width: 768px) {
  .comparison-modal-overlay-fullscreen { padding: 20px; }
  .comparison-modal-content-fullscreen { max-height: 90vh; }
  .players-grid-2x2-v3 { /* Updated class name */
    grid-template-columns: repeat(2, 1fr); /* Back to 2x2 grid for players */
    padding: 20px;
    gap: 20px;
  }
  .comparison-modal-title { font-size: 1.8em; padding: 20px 0; }
  
  .single-dun-layout-v3 {
     align-items: center; /* Better vertical alignment on wider screens */
  }

  .dun-cards-stacked-v3 { /* On wide screens, cards are flat */
    min-height: 105px; /* Adjust for larger flat cards */
    position: static; /* Revert for normal flow */
    margin-right: 15px; /* More space for text */
  }
  .dun-cards-stacked-v3 .card {
    width: 65px; 
    height: 98px;
    position: static; 
    left: auto; top: auto; z-index: auto; 
    margin-right: 5px; /* Spacing between flat cards */
    margin-left:0; /* Reset stacking margin */
    display: inline-block; 
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
   .dun-cards-stacked-v3 .card:last-child { margin-right: 0; }

  .dun-text-info-v3 {
    padding-left: 10px;
  }
  .dun-title-v3 { font-size: 1em; }
  .dun-type-v3 { font-size: 1.05em; }

  .continue-game-button { padding: 12px 25px; font-size: 1.1em; }
}
