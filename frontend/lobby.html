<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>十三水 - 游戏大厅</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lobby.css">
</head>
<body>
    <header>
        <h1>十三水游戏大厅</h1>
        <div class="user-info">
            欢迎, <span id="userNickname">玩家</span>! (积分: <span id="userPoints">0</span>)
            <button id="logoutButton">登出</button>
        </div>
    </header>

    <main class="lobby-main">
        <section class="room-actions">
            <button id="createRoomButton">创建房间</button>
            <div class="join-room-section">
                <input type="text" id="joinRoomCodeInput" placeholder="输入房间号加入">
                <input type="password" id="joinRoomPasswordInput" placeholder="房间密码 (可选)">
                <button id="joinRoomButton">加入房间</button>
            </div>
        </section>
        <div id="lobbyMessage" class="message-area"></div>

        <section class="room-list-section">
            <h2>可用房间列表</h2>
            <button id="refreshRoomListButton">刷新列表</button>
            <table id="roomListTable">
                <thead>
                    <tr>
                        <th>房间号</th>
                        <th>房间名</th>
                        <th>房主</th>
                        <th>人数</th>
                        <th>状态</th>
                        <th>密码</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 房间列表将通过JS动态填充 -->
                </tbody>
            </table>
            <p id="noRoomsMessage" style="display:none;">当前没有可加入的房间。</p>
        </section>

        <!-- 创建房间弹窗 (Modal) -->
        <div id="createRoomModal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close-button" id="closeCreateRoomModal">×</span>
                <h3>创建新房间</h3>
                <label for="createRoomName">房间名称:</label>
                <input type="text" id="createRoomName" placeholder="默认房间名">
                <label for="createRoomMaxPlayers">最大人数:</label>
                <select id="createRoomMaxPlayers">
                    <option value="2">2人</option>
                    <option value="3">3人</option>
                    <option value="4" selected>4人</option>
                </select>
                <label for="createRoomPassword">房间密码 (可选):</label>
                <input type="password" id="createRoomPassword">
                <button id="confirmCreateRoomButton">确认创建</button>
                <div id="createRoomError" class="error-message"></div>
            </div>
        </div>

    </main>

    <footer>
        <p>© 2024 十三水游戏</p>
    </footer>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script> <!-- UI辅助函数 -->
    <script src="js/lobby.js"></script>
</body>
</html>
