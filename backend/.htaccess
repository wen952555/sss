<IfModule mod_rewrite.c>
  RewriteEngine On

  # Redirect Trailing Slashes If Not A Folder...
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)/$ /$1 [L,R=301]

  # Handle API Requests
  # Route all requests under /api/ to api/index.php
  RewriteCond %{REQUEST_URI} ^/api/(.*)$
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^api/(.*)$ api/index.php?route=$1 [L,QSA]

  # If you place the entire backend in a subdirectory like 'thirteen_water_backend'
  # on serv00, you might need a RewriteBase:
  # Example: If your files are in public_html/thirteen_water_backend/
  # And you want to access API via http://9525.ip-ddns.com/thirteen_water_backend/api/
  # RewriteBase /thirteen_water_backend/
  # RewriteRule ^api/(.*)$ api/index.php?route=$1 [L,QSA]

  # For the root directory, if index.php is the entry point for other things
  # RewriteCond %{REQUEST_FILENAME} !-f
  # RewriteCond %{REQUEST_FILENAME} !-d
  # RewriteRule ^ index.php [L]
</IfModule>
