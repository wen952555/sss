<?php\n// db.php\n\nfunction getDBConnection() {\n    static $pdo = null;\n\n    if ($pdo === null) {\n        $config = parse_ini_file(__DIR__ . '/.env');\n        if (!$config) {\n            die(\"Error: .env file not found or failed to parse.\");\n        }\n\n        $dsn = \"mysql:host={\$config['DB_HOST']};dbname={\$config['DB_NAME']};charset=utf8mb4\";\n        $options = [\n            PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION,\n            PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n            PDO::ATTR_EMULATE_PREPARES   => false,\n        ];\n\n        try {\n            $pdo = new PDO($dsn, \$config['DB_USER'], \$config['DB_PASS'], \$options);\n        } catch (\\\\PDOException \$e) {\n            throw new \\\\PDOException(\$e->getMessage(), (int)\$e->getCode());\n        }\n    }\n\n    return $pdo;\n}\n\nfunction getTelegramConfig() {\n    static $config = null;\n    if ($config === null) {\n         $config = parse_ini_file(__DIR__ . '/.env');\n    }\n    return [\n        'token' => \$config['TELEGRAM_BOT_TOKEN'],\n        'admin_chat_id' => \$config['TELEGRAM_ADMIN_CHAT_ID']\n    ];\n}